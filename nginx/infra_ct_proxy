                                                                                                                                                                                                            +-----------------------+    +-----------------------+
                                                                                                                                                                                                            |                       |    |                       |
                                                                                                                                                                                                            | Conteneur Debian 10   |    | Conteneur Debian 10   |
                                                            +------------------------+      +-----------------------+                                                                                       | 3 Coeurs / 50Go HDD   |    | 1 Coeurs / 50Go HDD   |
                                                            |                        |      |                       |                                                                                       | 6Gb RAM               |    | 2Gb RAM               |
                                                            | Conteneur Debian 10    |      | Conteneur Debian 10   |                                                                                       | Serveur CTFd          |    | Serveur Gitea         |
                                                            | 3 Coeurs / 500Go HDD   |      | 1 Coeurs / 15Go HDD   |                                                                                       |                       |    |                       |
                                                            | 8Gb RAM                |      | 2Gb RAM               |                                                                                       +-----------+-----------+    +----------+------------+
                                                            | NextCloud 16           |      | Serveur Web           |                                                                                                   ^                           ^
                                                            |                        |      |                       |                                                                                                   | ctf.krhacken.org          | git.krhacken.org
                                                            +------------+-----------+      +-----------+-----------+                                                                                                   | proxy_pass <ip_ct_ctf>    | proxy_pass <ip_ct_gitea>
                                                                         ^                              ^                                                                                                               |                           |
                                                                         |                              |                                                                       +-----------------------+               |                           |
                                                                         | cloud.krhacken.org           | krhacken.org                                                          |                       |               |                           |
                                                                         | proxy_pass <ip_ct_cloud>     | proxy_pass <ip_ct_krhacken.org>                                       | Conteneur Debian 10   |            +--+---------------------------+---------------------------------------+
                                                                         |                              |                                                                       | 1 Coeurs / 50Go HDD   |            |                                                                      |
                                                                         |                              |                                                                       | 2Gb RAM               |            |                                                                      |
                                                         +---------------+------------------------------+------------------+                                                    | Serveur Wiki          |            |                          Reverse Proxy NGINX                         |
                                            krhacken.org |                                                                 |                                                    |                       +<-----------+                                Beta                                  |
                                          *.krhacken.org |                                                                 |                                                    +-----------------------+            |                             krkn:10.10.5                             |
                                                         |                       Reverse Proxy NGIX                        +------------->                                                   wiki.krhacken.org       |                                                                      |
                                                 +------>+                             Alpha                               |                                                                 proxy_pass <ip_ct_wiki> |                                                                      |
                                                 |       |                         krkn:10.10.0.4                          | webmail.krhacken.org                                                                    +---------------^------------------------------------------------------+
                                                 |       |                                                                 | proxy_pass <ip_ct_mail>                                                                                 |
   X+X                                           |       |                                                                 |                                                                                                         | ctf.krhacken.fr
 XXX XXXXX                                       |       +----+-----+----------------------------------------+-------------+                                                                                                         | git.krhacken.org
 X        XX                                     |            |     |                                        |                                                                                                                       | wiki.krhacken.org
 X          X                                    |            |     | git.krhacken.org                       | ctf.krhacken.org                                                                                                      |
 XX         X                                    |            |     | proxy_pass 10.40.0.2                   | proxy_pass 10.40.0.2                                                                                                  |
  XXX       X                                    |            |     | proxy_set_header Host git.krhacken.org | proxy_set_header Host ctf.krhacken.org                                                                                |
 XXX        XX          +------------------------+--+         |     |                                        |                                             +------------------------+                                                |
XX           X          | Firewall Alpha            |         |     |                                        +---------------------------------------------+                        |                                                |
X     NET    X+-------->+                           |         |     |                                                                                      |                        |                +----------------------------+  |
 X         XXX          | DNAT net krkn:10.10.0.4   |         |     +--------------------------------------------------------------------------------------+                        |                |                            |  |
 XX     XXXX            | tcp port 80,443           |         |                                                                                            |                        |                |   Firewall Beta            |  |
   XXXXX                |                           |         | wiki.krhacken.org                                                            int:10.40.0.1 |    Interface bridge    +--------------->+                            +--+
                        |                           |         | proxy_pass 10.40.0.2                                                                       |    entre alpha/beta    |                |   DNAT net krkn:10.10.0.5  |
                        +---------------------------+         | proxy_set_header Host wiki.krhacken.org                                                    |                        | net:10.40.0.2  |   tcp port 80,443          |
                                                              |                                                                                            |                        |                |                            |
                                                              +------------------------------------------------------------------------------------------->+                        |                +----------------------------+
                                                                                                                                                           |                        |
                                                                                                                                                           +------------------------+
